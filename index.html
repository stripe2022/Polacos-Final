<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" /> <!--?v=2 -->
  <title>Polacos Gym</title>
</head>
<body>
  <div class="container">
    <img src="polacos-gym-banner.jpg" alt="Banner" class="banner" />

    <div id="main-buttons">
      <button onclick="mostrarSeccion('add-member')">Añadir Miembro</button>
      <button onclick="mostrarSeccion('search')">Búsqueda de Cliente</button>
      <button onclick="mostrarSeccion('deudores')">Deudores</button>
      <button onclick="mostrarSeccion('reporte')">Reporte Mensual</button>
    </div>

    <!-- AÑADIR MIEMBRO -->
    <section id="add-member" class="hidden">
      <h2>Añadir Miembro</h2>
      <form id="member-form">

        <!-- DATOS BÁSICOS -->
        <div class="input-row">
          <div class="floating-group">
            <input type="text" id="nombre" placeholder=" " required />
            <label for="nombre">Nombre</label>
          </div>
          <div class="floating-group">
            <input type="text" id="apellido" placeholder=" " required />
            <label for="apellido">Apellido</label>
          </div>
        </div>

        <div class="input-row">
          <div class="floating-group">
            <input type="date" id="fecha" placeholder=" " />
            <label for="fecha">Fecha</label>
          </div>
          <div class="floating-group">
            <input type="tel" id="telefono" placeholder=" " required />
            <label for="telefono">Teléfono</label>
          </div>
        </div>

        <!-- INFORMACIÓN PERSONAL -->
        <div class="form-section">
          <h3>Información Personal</h3>
          <div class="input-row">
            <div class="floating-group">
              <input type="text" id="ci" placeholder=" " required />
              <label for="ci">Carnet de Identidad</label>
            </div>
            <div class="floating-group">
              <input type="number" id="edad" placeholder=" " min="1" required />
              <label for="edad">Edad</label>
            </div>
          </div>

          <div class="input-row">
            <div class="floating-group">
              <select id="sexo" required>
                <option value="" disabled selected></option>
                <option value="Femenino">Femenino</option>
                <option value="Masculino">Masculino</option>
              </select>
              <label for="sexo">Sexo</label>
            </div>
            <div class="floating-group">
              <select id="tipo-atencion" required>
                <option value="" disabled selected></option>
                <option value="Dirigida">Dirigida</option>
                <option value="Personal">Personal</option>
              </select>
              <label for="tipo-atencion">Tipo de Atención</label>
            </div>
          </div>
        </div>

        <!-- COMPOSICIÓN CORPORAL -->
        <div class="form-section">
          <h3>Composición Corporal</h3>
          <div class="input-row">
            <div class="floating-group">
              <input type="number" id="peso" placeholder=" " min="1" required />
              <label for="peso">Peso (kg)</label>
            </div>
            <div id="libras" class="peso-libras"></div>
          </div>
          <div class="input-row">
            <div class="floating-group">
              <input type="number" id="talla" placeholder=" " min="1" required />
              <label for="talla">Talla (cm)</label>
            </div>
            <div class="floating-group">
              <input type="number" id="grasa" placeholder=" " min="0"  />
              <label for="grasa">% Grasa Corporal</label>
            </div>
          </div>
          <div class="imc">IMC: <span id="imc-valor">--</span></div>
        </div>

        <!-- ANTROPOMETRÍA -->
        <div class="form-section">
          <h3>Evaluación Antropométrica</h3>
          <div id="antropometria-femenino" class="hidden">
            <div class="input-row">
              <div class="floating-group">
                <input type="number" id="biceps-f" placeholder=" " min="0" />
                <label for="biceps-f">Bíceps</label>
              </div>
              <div class="floating-group">
                <input type="number" id="abdominal-f" placeholder=" " min="0" />
                <label for="abdominal-f">Abdominal</label>
              </div>
            </div>
            <div class="input-row">
              <div class="floating-group">
                <input type="number" id="gluteo" placeholder=" " min="0" />
                <label for="gluteo">Glúteo</label>
              </div>
              <div class="floating-group">
                <input type="number" id="muslos-f" placeholder=" " min="0" />
                <label for="muslos-f">Muslos</label>
              </div>
            </div>
          </div>
          <div id="antropometria-masculino" class="hidden">
            <div class="input-row">
              <div class="floating-group">
                <input type="number" id="torax-interno" placeholder=" " min="0" />
                <label for="torax-interno">Tórax Interno</label>
              </div>
              <div class="floating-group">
                <input type="number" id="torax-externo" placeholder=" " min="0" />
                <label for="torax-externo">Tórax Externo</label>
              </div>
            </div>
            <div class="input-row">
              <div class="floating-group">
                <input type="number" id="gastronemio" placeholder=" " min="0" />
                <label for="gastronemio">Gastronemio</label>
              </div>
              <div class="floating-group">
                <input type="number" id="biceps-m" placeholder=" " min="0" />
                <label for="biceps-m">Bíceps</label>
              </div>
            </div>
            <div class="input-row">
              <div class="floating-group">
                <input type="number" id="abdominal-m" placeholder=" " min="0" />
                <label for="abdominal-m">Abdominal</label>
              </div>
              <div class="floating-group">
                <input type="number" id="muslos-m" placeholder=" " min="0" />
                <label for="muslos-m">Muslos</label>
              </div>
            </div>
          </div>
        </div>

        <!-- COMENTARIOS Y OBSERVACIONES -->
        <div class="form-section">
          <h3>Comentarios</h3>
          <textarea id="comentarios" placeholder="Comentarios generales..."></textarea>
        </div>
        <div class="form-section">
          <h3>Observaciones Patológicas</h3>
          <textarea id="observaciones" placeholder="Observaciones Patológicas..."></textarea>
        </div>

        <!-- FOTO Y BOTONES -->
        <input type="file" id="foto" accept="image/*" style="display: none;" />
        <button type="button" id="btn-foto">Añadir Foto</button>
        <div id="preview"></div>
        <button type="submit" class="guardar">Guardar</button>
        <button type="button" class="cancelar" onclick="volverInicio()">Cancelar</button>
      </form>
    </section>

    <!-- BÚSQUEDA -->
    <section id="search" class="hidden">
      <h2>Búsqueda de Cliente</h2>
      <input type="text" id="search-input" placeholder="Nombre o teléfono..." oninput="buscarClientes()" />
      <div id="resultados"></div>
      <button class="cancelar" onclick="volverInicio()">Cancelar</button>
    </section>

    <!-- DEUDORES -->
    <section id="deudores" class="hidden">
      <h2>Clientes Deudores</h2>
      <div id="lista-deudores"></div>
      <button class="cancelar" onclick="volverInicio()">Cancelar</button>
    </section>
    <!-- REPORTE MENSUAL -->
<section id="reporte" class="hidden">
  <h2>Reporte Mensual</h2>

  <div class="form-section">
    <label for="mes-reporte" class="etiqueta-mes">Seleccionar mes:</label>
    <input type="month" id="mes-reporte" />
  </div>

  <div class="form-section">
    <div class="kpi-box kpi-white">Matrícula Total: <strong id="total-clientes">--</strong></div>
    <div class="kpi-box kpi-green">Miembros Activos: <strong id="activos">--</strong></div>
    <div class="kpi-box kpi-red">Miembros Inactivos: <strong id="inactivos">--</strong></div>
    <div class="kpi-box kpi-soft-red">Miembros Deudores: <strong id="deudores">--</strong></div>
  </div>

  <div class="separador"></div>

  <div class="form-section">
    <div class="kpi-box">Nuevos registros: <strong id="nuevos">--</strong></div>
    <div class="kpi-box">Membresías renovadas: <strong id="renovados">--</strong></div>
    <div class="kpi-box">Tasa de retención: <strong id="retencion">--</strong></div>
  </div>

  <div class="separador"></div>

  <div class="form-section">
    <h3>Distribución por Sexo</h3>
    <div class="kpi-box">Masculino: <strong id="sexo-m">--</strong></div>
    <div class="kpi-box">Femenino: <strong id="sexo-f">--</strong></div>
  </div>

  <div class="form-section">
    <h3>Distribución por Edad</h3>
    <div class="kpi-box">Menores de 18: <strong id="edad-1">--</strong></div>
    <div class="kpi-box">18–30: <strong id="edad-2">--</strong></div>
    <div class="kpi-box">31–45: <strong id="edad-3">--</strong></div>
    <div class="kpi-box">46–60: <strong id="edad-4">--</strong></div>
    <div class="kpi-box">60+: <strong id="edad-5">--</strong></div>
  </div>

  <button class="cancelar" onclick="volverInicio()">Volver</button>
</section>
  </div>
  

  <!-- MODAL DE IMAGEN -->
  <div id="img-modal" class="modal hidden">
    <span class="close-modal" onclick="cerrarModal()">×</span>
    <img id="modal-img" src="" alt="Foto Ampliada">
  </div>

  <!-- SCRIPTS -->
  <script src="db.js"></script>
  <script src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <script>eruda.init();</script>
</body>
  </html>
